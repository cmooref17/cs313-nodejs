<!DOCTYPE html>

<head>
   <link rel="stylesheet" href="/stylesheets/myCss.css">
   <title>Login</title>
   <script>
      signUp = false;
      function setBackgroundSize() {
         var load = true;
         if(load) {
            var w = window.innerWidth;
            var h = window.innerHeight;
            var size = w + "px " + h + "px";
            var body = document.getElementById('body');
            body.style.backgroundImage = "url(/images/background.jpg)";
            body.style.backgroundSize = size;
         }
      }
      
      function drawWindow() {
         var window = document.getElementById("inner");
         if(signUp) {
            document.getElementById("outer").style.width="350px";
            window.innerHTML =  "<header style='font-size: 20px; margin: 0px'>Sign up</header><hr>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>First name</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='firstName' name='firstName' type='text' placeholder='First name'></span><br>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Last name</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='lastName' name='lastName' type='text' placeholder='Last name'></span><br>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Username</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='username' name='username' type='text' placeholder='Username'></span><br>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Email</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='email' name='email' type='text' placeholder='Email'></span><br>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Password</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='password1' name='password1' type='password' placeholder='Password'></span><br>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Confirm password</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='password2' name='password2' type='password' placeholder='Confirm password'></span><br>";
            window.innerHTML += "<header style='margin: 8px'><button onclick='register()' style='width: 120px'>Create account</button></header>";
            window.innerHTML += "<header class='switchWindow'><a href='#signUp' onclick='changeWindow()'>Already have an account?</a></header>";
         }
         else {
            document.getElementById("outer").style.width="300px";
            window.innerHTML =  "<header style='font-size: 20px; margin: 0px'>Sign in</header><hr>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Username</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='username' name='username' type='text' placeholder='Username'></span><br>";
            window.innerHTML += "<span class='loginLeft'><header style='margin: 0px'>Password</header></span>";
            window.innerHTML += "<span class='loginRight'><input id='password' name='password' type='password' placeholder='Password'></span><br>";
            window.innerHTML += "<header style='margin: 8px'><button onclick='login()' style='width: 75px'>Login</button></header>";
            window.innerHTML += "<header class='switchWindow'><a href='#signIn' onclick='changeWindow()'>Don't have an account?</a></header>";
         }
      }
      
      function loggedIn() {
         alert("Logged in successfully");
      }
      
      function login() {
         var username = document.getElementById("username").value;
         var password = document.getElementById("password").value;
         
         var xmlHttp = new XMLHttpRequest();
         xmlHttp.onreadystatechange = function() { 
            alert(xmlHttp.readyState);
            alert(xmlHttp.status);
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
               alert("good");
         }
         xmlHttp.open("GET", "/login?username=" + username + "&password=" + password, true); // true for asynchronous 
         xmlHttp.send(null);
      }
      
      function register() {
         var username = document.getElementById("username").value;
         var password = document.getElementById("password").value;
      }
      
      function changeWindow() {
         signUp = !signUp;
         drawWindow();
      }
   </script>
   
</head>

<body onresize="setBackgroundSize()" onload="setBackgroundSize()" id="body">
   <div class="leftSign">
      <header class="leftSignText"><a class="toOutpost" href="home.html">Trading<br>Outpost</a></header>
   </div>
   
   <!-- Two divs to wrap content and center it --->
   <div id="outer" class="loginOuter"><div id="inner" class="loginInner">
      <script>
         drawWindow();
      </script>
   </div></div>

</body>

</html>