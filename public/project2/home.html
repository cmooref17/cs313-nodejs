<!DOCTYPE html>

<head>
   <link rel="stylesheet" href="/stylesheets/myCss.css">
   <title>My webpage</title>
   
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   
   <script>
      function setBackgroundSize() {
         var load = true;
         if(load) {
            var w = window.innerWidth;
            var h = window.innerHeight;
            var size = w + "px " + h + "px";
            var body = document.getElementById('body');
            body.style.backgroundImage = "url(/images/background.jpg)";
            body.style.backgroundSize = size;
         }
      }
      
      function drawPage() {
         var user;
         var right = document.getElementById("rightSign");
         
         $.get("/getSession", function(data, status) {
            console.log(data);
            if(data == '-1') {
               right.innerHTML = "<header class='promptLogin'>You are not logged in<br><a href='login.html' class='promptLogin' style='color: white'>Login</a></header>";
               gifts.innerHTML = "<header>You are not logged in</header><br>";
            }
            else {
               right.innerHTML = "<header class='promptLogin welcome'>Welcome " + data.username + "!<br>" + data.bells + " bells</header>";
               
               if(data.canRedeem == "true") {
                  gifts.innerHTML = "<header>Your free gifts for today!</header><hr style='margin-left: 16px; margin-right: 16px'><br>";
                  gifts.innerHTML += "<span class='gift'><a href='/gift'><img class='present' src='/images/present.png'></a></span>";
                  gifts.innerHTML += "<span class='gift'><a href='/gift'><img class='present' src='/images/present.png'></a></span>";
                  gifts.innerHTML += "<span class='gift'><a href='/gift'><img class='present' src='/images/present.png'></a></span>";
                  gifts.innerHTML += "<span class='gift'><a href='/gift'><img class='present' src='/images/present.png'></a></span><br>";
               }
               else {
                  gifts.innerHTML = "<header>You are out of daily gifts</header><br>";
               }
            }
         });
      }
      
  
   </script>
   
</head>

<body onresize="setBackgroundSize()" onload="setBackgroundSize()" id="body">

   <div style="height: 250px"> <!-- Header --->
      <div id="leftSign" class="leftSign">
         <header class="leftSignText">Trading<br>Outpost</header>
      </div>
      <div id="rightSign" class="rightSign">
         
   </div></div>
   
   
   
   <!-- Two divs to wrap content and center it --->
   <div style="text-align: center"><div id="gifts" class="gifts">

   </div></div>
   
   <script type="text/javascript">
      drawPage();
   </script>
   
</body>
</html>